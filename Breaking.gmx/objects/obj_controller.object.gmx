<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_blocks</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///In Game
draw_set_font(ft_hud);
global.controller=id;
global.pause=false;//Pause Game

global.playing=false;//Check if Game is Running

//Balls/ Chances
totalchances=3;
global.chances=totalchances;

//Level
global.lv=1;

//Blocks
global.blocks=0;
global.wblock=6;
global.hblock=25;
global.buildstartx=214+(sprite_width/2);
global.buildstarty=56+(sprite_height/2);
max_maxblocks=global.wblock*global.hblock;
global.maxblocks=(global.lv+1)*5;
global.maxblocks=clamp(global.maxblocks,0,max_maxblocks);
global.hasdestroyed=0;
global.mustdestroy=floor((global.lv*2)+(global.lv/2)+3);
scr_levelbuilder(global.buildstartx,global.buildstarty,global.wblock,global.hblock);

//Destroyed Blocks/ Score
global.destroyed=0;
global.score_=0;

//Time
global.timer=0;

//Place Ball and Paddle
instance_create(x,y,obj_ball);
startx=424;
starty=632;
instance_create(startx,starty,obj_paddle);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Powers
global.currentsize=0;
global.power_[_big]=0;
global.power_[_min]=0;
global.power_[_upside]=0;
global.power_[_spdup]=0;
global.power_[_hball]=0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Game Settings
randomize();//Randomize Seed

//If there's only One Player, set new Controls
if(instance_number(obj_paddle)==1){
    keyboard_set_map(ord("D"),vk_right);
    keyboard_set_map(ord("A"),vk_left);
    keyboard_set_map(vk_rcontrol,vk_space);
}

fullscreen=false;//FScreen
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Powers
if(global.playing &amp;&amp; global.blocks&gt;0 &amp;&amp; global.hasdestroyed&lt;global.mustdestroy &amp;&amp; !global.pause){
    //Count Down Power Up Time
    if(global.power_[global.currentsize]&gt;0) global.power_[global.currentsize]-=1/room_speed;
    else global.currentsize=0;
    if(global.power_[_upside]&gt;0) global.power_[_upside]-=1/room_speed;
    if(global.power_[_spdup]&gt;0) global.power_[_spdup]-=1/room_speed;
    if(global.power_[_hball]&gt;0) global.power_[_hball]-=1/room_speed;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Timer
if(global.playing &amp;&amp; !global.pause &amp;&amp; global.hasdestroyed&lt;global.mustdestroy){
    global.timer+=1/room_speed;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Score
if(!global.pause){
    var addspd=1;
    addspd=max(1,(floor(global.destroyed-global.score_ )/200)*3);
    global.score_=ceil(lerp(global.score_,global.destroyed,addspd/room_speed));
    global.score_=clamp(global.score_,0,global.destroyed);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw HUD
draw_set_font(ft_hud);
draw_set_color(c_white);
draw_text(70,56,"Score: ");

draw_set_font(ft_bighud);
draw_text(70,76,string(global.score_));
draw_set_font(ft_hud);
draw_text(70,582,"Blocks: "+string(global.hasdestroyed)+"/"+string(global.mustdestroy));
draw_sprite(spr_ball,0,78,572);
draw_text(88,572-14,"x"+string(global.chances));
draw_text(70,606,"Level: "+string(global.lv));
draw_text(70,630,"Time: "+string(global.timer));

if(global.chances&lt;=0){
    draw_set_halign(fa_center);
    draw_text(418,room_height/6*4,"You Lose...");
    draw_text(418,(room_height/6*4)+20,"Press Space to go back");
    draw_set_halign(fa_left);
}

if(global.blocks&lt;=0 || global.hasdestroyed&gt;=global.mustdestroy){
    draw_set_halign(fa_center);
    draw_text(418,room_height/6*4,"You Win!");
    draw_text(418,(room_height/6*4)+20,"Press Space to continue");
    draw_set_halign(fa_left);
}

if(global.pause){
    draw_set_color(c_black);
    draw_set_alpha(0.3);
    draw_rectangle(0,0,room_width,room_height,false);
    draw_set_alpha(1);
    draw_set_color(c_white);
    draw_set_halign(fa_center);
    draw_text(418,room_height/6*4,"-Paused-");
    draw_text(418,(room_height/6*4)+20,"Press P to go back");
    draw_set_halign(fa_left);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="115">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Set to Fullscreen
fullscreen-=(fullscreen*2)-1;//Switch On and Off
window_set_fullscreen(fullscreen);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>223</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_current_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="9" enumb="80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Pause Game
if(instance_exists(obj_ball)){
    global.pause-=(global.pause*2)-1;//Switch On and Off
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="71">
      <action>
        <libid>1</libid>
        <id>224</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_another_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>11</kind>
            <room>rm_mplay</room>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset Variables
if(global.chances&lt;=0||global.hasdestroyed&gt;=global.mustdestroy){
    if(global.chances&gt;0){ //If has Balls Left
        global.chances+=2;//Give Balls
        global.destroyed+=10*global.lv*global.chances;//Give Extra Points
        global.lv++;//Increase The Level
    } else{ //If Not has Balls Left
        global.chances=totalchances;//Put Chances to Deafault Value
        global.score_=0;//Set Score to 0
        global.destroyed=0;//Destroyed Blocks
        global.timer=0;//Time get to 0
        global.lv=1;//Back to start Level
    }
    global.playing=false;//Stop Playing
    global.currentsize=0;//Paddle Size
    //Reset All Powers Timers
    for(var i=0; i&lt;array_length_1d(global.power_); i++){
        global.power_[i]=0;
    }
    global.blocks=0;//Set number of blocks to 0
    instance_destroy(obj_block);//Destroy all blocks
    instance_destroy(x,y,obj_ball);//Destroy Current Ball
    instance_destroy(obj_powerdefault);//Destroy All Powers
    instance_create(x,y,obj_ball);//Create a New Ball
    instance_destroy(obj_shield);//Destroy Shield 
    instance_destroy(obj_paddle);//Destroy Paddle 
    instance_create(startx,starty,obj_paddle);//Create a New Paddle
    global.hasdestroyed=0;//Destroyed Blocks
    obj_paddle.x=startx;//Set Paddle Position
    
    //Blocks Control
    global.maxblocks=(global.lv+1)*5;//Set Max Blocks on Room
    global.maxblocks=clamp(global.maxblocks,0,max_maxblocks);
    global.mustdestroy=floor((global.lv*2)+(global.lv/2)+3);//Set Target Blocks
    
    obj_paddle.spd+=global.lv/20;//Increase Paddle Movement Speed
    obj_paddle.maxspd=4+global.lv/10;//Increase Paddle Speed Limit
    
    global.lv=min(global.lv,30);//Max Level = 30
    instance_create(x,y,obj_builder);//Place the Level Builder
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
