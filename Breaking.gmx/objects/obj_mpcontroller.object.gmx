<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_blocks</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///In Game

global.controller=id;
global.pause=false;//Pause Game
global.wall=640;
global.balls[0]=0;
global.balls[1]=0;
global.shield[0]=noone;
global.shield[1]=noone;

global.playing[0]=false;//Check if Game is Running
global.playing[1]=false;

//Balls/ Chances
totalchances=3;
global.chances[0]=totalchances;
global.chances[1]=totalchances;

//Walls
global.rwall[0]=640;
global.lwall[0]=208;
global.rwall[1]=1072;
global.lwall[1]=640;

//Keys
global.rkey[1]=vk_right;
global.lkey[1]=vk_left;
global.skey[1]=vk_rcontrol;

global.rkey[0]=ord("D");
global.lkey[0]=ord("A");
global.skey[0]=vk_space;

//Level
global.lv[0]=1;
global.lv[1]=1;

//Blocks
global.blocks[0]=0;
global.blocks[1]=0;
global.wblock=6;
global.hblock=25;
global.buildstartx[0]=214+(sprite_width/2);
global.buildstartx[1]=646+(sprite_width/2);
global.buildstarty=56+(sprite_height/2);
max_maxblocks=global.wblock*global.hblock;
global.maxblocks[0]=(global.lv[0]+1)*5;
global.maxblocks[1]=(global.lv[1]+1)*5;
global.maxblocks[0]=clamp(global.maxblocks[0],0,max_maxblocks);
global.maxblocks[1]=clamp(global.maxblocks[1],0,max_maxblocks);
global.hasdestroyed[0]=0;
global.hasdestroyed[1]=0;
global.mustdestroy[0]=floor((global.lv[0]*2)+(global.lv[0]/2)+3);
global.mustdestroy[1]=floor((global.lv[1]*2)+(global.lv[1]/2)+3);
scr_mplevelbuilder(global.buildstartx[0],global.buildstarty,global.wblock,global.hblock,0);
scr_mplevelbuilder(global.buildstartx[1],global.buildstarty,global.wblock,global.hblock,1);

//Destroyed Blocks/ Score
global.destroyed[0]=0;
global.score_[0]=0;
global.destroyed[1]=0;
global.score_[1]=0;

//Time
global.timer[0]=0;
global.timer[1]=0;

//Place Ball and Paddle
startx[0]=424;
startx[1]=856;
starty=632;
pl1=instance_create(startx[0],starty,obj_mppaddle);
global.player[0]=pl1;
bl1=instance_create(pl1.x,y,obj_mpball);

pl2=instance_create(startx[1],starty,obj_mppaddle);
global.player[1]=pl2;
bl2=instance_create(pl2.x,y,obj_mpball);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Powers
global.currentsize[0]=0;
global.power_[0,_big]=0;
global.power_[0,_min]=0;
global.power_[0,_upside]=0;
global.power_[0,_spdup]=0;
global.power_[0,_hball]=0;

global.currentsize[1]=0;
global.power_[1,_big]=0;
global.power_[1,_min]=0;
global.power_[1,_upside]=0;
global.power_[1,_spdup]=0;
global.power_[1,_hball]=0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Game Settings
randomize();//Randomize Seed

//If there's only One Player, set new Controls
keyboard_set_map(ord("D"),ord("D"));
keyboard_set_map(ord("A"),ord("A"));
keyboard_set_map(vk_rcontrol,vk_rcontrol);


fullscreen=false;//FScreen
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Powers
if(global.playing[0] &amp;&amp; global.blocks[0]&gt;0 &amp;&amp; global.hasdestroyed[0]&lt;global.mustdestroy &amp;&amp; !global.pause){
    //Count Down Power Up Time
    if(global.power_[0,global.currentsize[0]]&gt;0) global.power_[0,global.currentsize[0]]-=1/room_speed;
    else global.currentsize[0]=0;
    if(global.power_[0,_upside]&gt;0) global.power_[0,_upside]-=1/room_speed;
    if(global.power_[0,_spdup]&gt;0) global.power_[0,_spdup]-=1/room_speed;
    if(global.power_[0,_hball]&gt;0) global.power_[0,_hball]-=1/room_speed;
    if(global.balls[0]&lt;=0) global.power_[0,_hball]=0;
    
    if(global.power_[1,global.currentsize[1]]&gt;0) global.power_[1,global.currentsize[1]]-=1/room_speed;
    else global.currentsize[1]=0;
    if(global.power_[1,_upside]&gt;0) global.power_[1,_upside]-=1/room_speed;
    if(global.power_[1,_spdup]&gt;0) global.power_[1,_spdup]-=1/room_speed;
    if(global.power_[1,_hball]&gt;0) global.power_[1,_hball]-=1/room_speed;
    if(global.balls[1]&lt;=0) global.power_[1,_hball]=0;
}

if(global.blocks[0]&lt;=0 || global.hasdestroyed[0]&gt;=global.mustdestroy[0]){
    for(var i=0; i&lt;array_length_1d(global.power_[0]); i++){
        global.power_[0,i]=0;
    }
}

if(global.blocks[1]&lt;=0 || global.hasdestroyed[1]&gt;=global.mustdestroy[1]){
    for(var i=0; i&lt;array_length_1d(global.power_[1]); i++){
        global.power_[1,i]=0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Timer
if(global.playing[0] &amp;&amp; !global.pause &amp;&amp; global.hasdestroyed[0]&lt;global.mustdestroy &amp;&amp; instance_exists(global.ball[0])){
    global.timer[0]+=1/room_speed;
}
if(global.playing[1] &amp;&amp; !global.pause &amp;&amp; global.hasdestroyed[1]&lt;global.mustdestroy &amp;&amp; instance_exists(global.ball[1])){
    global.timer[1]+=1/room_speed;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Score
if(!global.pause){
    addspd[0]=0;
    addspd[0]=max(1,(floor(global.destroyed[0]-global.score_[0])/200)*3);
    global.score_[0]=ceil(lerp(global.score_[0],global.destroyed[0],addspd[0]/room_speed));
    global.score_[0]=clamp(global.score_[0],0,global.destroyed[0]);
    
    addspd[1]=0;
    addspd[1]=max(1,(floor(global.destroyed[1]-global.score_[1])/200)*3);
    global.score_[1]=ceil(lerp(global.score_[1],global.destroyed[1],addspd[1]/room_speed));
    global.score_[1]=clamp(global.score_[1],0,global.destroyed[1]);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw HUD
draw_set_font(ft_hud);
draw_set_color(c_white);
draw_text(70,56,"Score: ");

draw_set_font(ft_bighud);
draw_text(70,76,string(global.score_[0]));
draw_set_font(ft_hud);
draw_text(70,582,"Blocks: "+string(global.hasdestroyed[0])+"/"+string(global.mustdestroy[0]));
draw_sprite(spr_ball,0,78,572);
draw_text(88,572-14,"x"+string(global.chances[0]));
draw_text(70,606,"Level: "+string(global.lv[0]));
draw_text(70,630,"Time: "+string(global.timer[0]));

//draw_text(70,196,"TBlocks: "+string(global.blocks)+"/"+string(global.maxblocks));

if(global.chances[0]&lt;=0){
    draw_set_halign(fa_center);
    draw_text(startx[0],starty-120,"You Lose...");
    draw_text(startx[0],starty-100,"Press Space to go back");
    draw_set_halign(fa_left);
}

if(global.blocks[0]&lt;=0 || global.hasdestroyed[0]&gt;=global.mustdestroy[0]){
    draw_set_halign(fa_center);
    draw_text(startx[0],starty-120,"Level Finished");
    draw_text(startx[0],starty-100,"Press Space to continue");
    draw_set_halign(fa_left);
}

//Player 2
///Draw HUD
draw_set_font(ft_hud);
draw_set_color(c_white);
draw_text(1080,56,"Score: ");

draw_set_font(ft_bighud);
draw_text(1080,76,string(global.score_[1]));
draw_set_font(ft_hud);
draw_text(1080,582,"Blocks: "+string(global.hasdestroyed[1])+"/"+string(global.mustdestroy[1]));
draw_sprite(spr_ball,0,1088,572);
draw_text(1098,572-14,"x"+string(global.chances[1]));
draw_text(1080,606,"Level: "+string(global.lv[1]));
draw_text(1080,630,"Time: "+string(global.timer[1]));
draw_set_halign(fa_left);

if(global.chances[1]&lt;=0){
    draw_set_halign(fa_center);
    draw_text(startx[1],starty-120,"You Lose...");
    draw_text(startx[1],starty-100,"Press Ctrl to go back");
    draw_set_halign(fa_left);
}

if(global.blocks[1]&lt;=0 || global.hasdestroyed[1]&gt;=global.mustdestroy[1]){
    draw_set_halign(fa_center);
    draw_text(startx[1],starty-120,"Level Finished!");
    draw_text(startx[1],starty-100,"Press Ctrl to continue");
    draw_set_halign(fa_left);
}

//If Pause

if(global.pause){
    draw_set_color(c_black);
    draw_set_alpha(0.6);
    draw_rectangle(0,0,room_width,room_height,false);
    draw_set_alpha(1);
    draw_set_color(c_white);
    draw_set_halign(fa_center);
    draw_text(room_width/2,room_height/6*4,"-Paused-");
    draw_text(room_width/2,(room_height/6*4)+20,"Press P to go back");
    draw_set_halign(fa_left);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="115">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Set to Fullscreen
fullscreen-=(fullscreen*2)-1;//Switch On and Off
window_set_fullscreen(fullscreen);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>223</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_current_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="9" enumb="80">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Pause Game
if(instance_exists(obj_ball)){
    global.pause-=(global.pause*2)-1;//Switch On and Off
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="71">
      <action>
        <libid>1</libid>
        <id>224</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_another_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>11</kind>
            <room>rm_splay</room>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset Variables P1
if(global.chances[0]&lt;=0||global.hasdestroyed[0]&gt;=global.mustdestroy[0]){
    if(global.chances[0]&gt;0){ //If has Balls Left
        global.chances[0]++;//Give Balls
        global.destroyed[0]+=10*global.lv[0]*global.chances[0];//Give Extra Points
        global.lv[0]++;//Increase The Level
    } else{ //If Not has Balls Left
        global.chances[0]=totalchances;//Put Chances to Deafault Value
        global.destroyed[0]=ceil(global.destroyed[0]/2);//Destroyed Blocks
       // global.timer[0]=0;//Time get to 0
        global.lv[0]=max(1,global.lv[0]-1);//Back to start Level
    }
    global.playing[0]=false;//Stop Playing
    global.currentsize[0]=0;//Paddle Size
    //Reset All Powers Timers
    for(var i=0; i&lt;5; i++){
        global.power_[0,i]=0;
    }
    global.blocks[0]=0;//Set number of blocks to 0
    with(obj_mpblock){if(p==0)instance_destroy();}//Destroy all blocks
    with(obj_mpball){if(p==0)instance_destroy();}//Destroy Balls
    global.balls[0]=0;
    with(obj_mppowerdefault){if(p==0)instance_destroy();}//Destroy all blocks

    if(instance_exists(global.shield[0])){instance_destroy(global.shield[0]);}//Destroy Shield */
    instance_destroy(pl1);//Destroy Paddle 
    pl1=instance_create(startx[0],starty,obj_mppaddle);//Create a New Paddle
    global.player[0]=pl1;
    b1=instance_create(pl1.x,y,obj_mpball);//Create a New Ball
    global.hasdestroyed[0]=0;//Destroyed Blocks
    pl1.x=startx[0];//Set Paddle Position
    
    //Blocks Control
    global.maxblocks[0]=(global.lv[0]+1)*5;//Set Max Blocks on Room
    global.maxblocks[0]=clamp(global.maxblocks[0],0,max_maxblocks);
    global.mustdestroy[0]=floor((global.lv[0]*2)+(global.lv[0]/2)+3);//Set Target Blocks
    
    pl1.spd+=global.lv[0]/20;//Increase Paddle Movement Speed
    pl1.maxspd=4+global.lv[0]/10;//Increase Paddle Speed Limit
    
    global.lv[0]=min(global.lv[0],30);//Max Level = 30
    scr_mplevelbuilder(global.buildstartx[0],global.buildstarty,global.wblock,global.hblock,0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="9" enumb="17">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset Variables P2
if(global.chances[1]&lt;=0||global.hasdestroyed[1]&gt;=global.mustdestroy[1]){
    if(global.chances[1]&gt;0){ //If has Balls Left
        global.chances[1]++;//Give Balls
        global.destroyed[1]+=10*global.lv[1]*global.chances[1];//Give Extra Points
        global.lv[1]++;//Increase The Level
    } else{ //If Not has Balls Left
        global.chances[1]=totalchances;//Put Chances to Deafault Value
        global.destroyed[1]=ceil(global.destroyed[1]/2);//Destroyed Blocks
        //global.timer[1]=0;//Time get to 0
        global.lv[1]=max(1,global.lv[1]-1);//Back to start Level
    }
    global.playing[1]=false;//Stop Playing
    global.currentsize[1]=0;//Paddle Size
    //Reset All Powers Timers
    for(var i=0; i&lt;5; i++){
        global.power_[1,i]=0;
    }
    global.blocks[1]=0;//Set number of blocks to 0
    with(obj_mpblock){if(p==1)instance_destroy();}//Destroy all blocks
    with(obj_mpball){if(p==1)instance_destroy();}//Destroy Balls
    global.balls[1]=0;
    with(obj_mppowerdefault){if(p==1)instance_destroy();}//Destroy all blocks
 
    if(instance_exists(global.shield[1])){instance_destroy(global.shield[1]);}//Destroy Shield */
    instance_destroy(pl2);//Destroy Paddle 
    pl2=instance_create(startx[1],starty,obj_mppaddle);//Create a New Paddle
    global.player[1]=pl2;
    b2=instance_create(pl2.x,y,obj_mpball);//Create a New Ball
    global.hasdestroyed[1]=0;//Destroyed Blocks
    pl2.x=startx[1];//Set Paddle Position
    
    //Blocks Control
    global.maxblocks[1]=(global.lv[1]+1)*5;//Set Max Blocks on Room
    global.maxblocks[1]=clamp(global.maxblocks[1],0,max_maxblocks);
    global.mustdestroy[1]=floor((global.lv[1]*2)+(global.lv[1]/2)+3);//Set Target Blocks
    
    pl2.spd+=global.lv[1]/20;//Increase Paddle Movement Speed
    pl2.maxspd=4+global.lv[1]/10;//Increase Paddle Speed Limit
    
    global.lv[1]=min(global.lv[1],30);//Max Level = 30
    scr_mplevelbuilder(global.buildstartx[1],global.buildstarty,global.wblock,global.hblock,1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
